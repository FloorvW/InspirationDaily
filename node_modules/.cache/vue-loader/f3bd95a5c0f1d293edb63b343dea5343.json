{"remainingRequest":"/Users/floorvanwieringen/virtual-museum/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/floorvanwieringen/virtual-museum/node_modules/vue-stack-grid/src/Stack.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/floorvanwieringen/virtual-museum/node_modules/vue-stack-grid/src/Stack.vue","mtime":499162500000},{"path":"/Users/floorvanwieringen/virtual-museum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/floorvanwieringen/virtual-museum/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/floorvanwieringen/virtual-museum/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/floorvanwieringen/virtual-museum/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpbWFnZXNMb2FkZWQgZnJvbSAndnVlLWltYWdlcy1sb2FkZWQnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGNvbHVtbk1pbldpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBndXR0ZXJXaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBndXR0ZXJIZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgbW9uaXRvckltYWdlc0xvYWRlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW5lcldpZHRoOiAwLAogICAgICBjb2x1bW5Db3VudDogMCwKICAgICAgY29sdW1uV2lkdGg6IDAsCiAgICAgIGJhc2VDb2x1bW5zOiBbXQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZmxvdykKICAgIHRoaXMudXBkYXRlKCkKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZmxvdykKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUNvbHVtbkRhdGEoKSB7CiAgICAgIHRoaXMuY29udGFpbmVyV2lkdGggPSB0aGlzLmdldENvbnRhaW5lcldpZHRoKCkKICAgICAgdGhpcy5jb2x1bW5Db3VudCA9IHRoaXMuZ2V0Q29sdW1uQ291bnQoKQogICAgICB0aGlzLmNvbHVtbldpZHRoID0gdGhpcy5nZXRDb2x1bW5XaWR0aCgpCiAgICB9LAogICAgZ2V0Q29udGFpbmVyV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRXaWR0aAogICAgfSwKICAgIGdldENvbHVtbkNvdW50KCkgewogICAgICBmb3IgKGxldCBpID0gMTsgdHJ1ZTsgaSsrKQogICAgICB7CiAgICAgICAgbGV0IHcgPSBpICogdGhpcy5jb2x1bW5NaW5XaWR0aCArIChpIC0gMSkgKiB0aGlzLmd1dHRlcldpZHRoCiAgICAgICAgaWYgKHcgPiB0aGlzLmNvbnRhaW5lcldpZHRoKQogICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGkgLSAxLCAxKQogICAgICB9CiAgICB9LAogICAgZ2V0Q29sdW1uV2lkdGgoKSB7CiAgICAgIHJldHVybiAodGhpcy5jb250YWluZXJXaWR0aCAtICh0aGlzLmNvbHVtbkNvdW50IC0gMSkgKiB0aGlzLmd1dHRlcldpZHRoKSAvIHRoaXMuY29sdW1uQ291bnQKICAgIH0sCiAgICBnZXRCYXNlQ29sdW1ucygpIHsKICAgICAgbGV0IGNvbHMgPSBbXQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1uQ291bnQ7IGkrKykKICAgICAgICBjb2xzLnB1c2goewogICAgICAgICAgeDogaSAqICh0aGlzLmNvbHVtbldpZHRoICsgdGhpcy5ndXR0ZXJXaWR0aCksCiAgICAgICAgICBoOiAwCiAgICAgICAgfSkKICAgICAgcmV0dXJuIGNvbHMKICAgIH0sCiAgICB1cGRhdGUoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKHRoaXMucmVmbG93KQogICAgfSwKICAgIHJlZmxvdygpIHsKICAgICAgdGhpcy51cGRhdGVDb2x1bW5EYXRhKCkKICAgICAgbGV0IGNvbHMgPSB0aGlzLmdldEJhc2VDb2x1bW5zKCkKCiAgICAgIHRoaXMuJGVtaXQoJ3JlZmxvdycsIHsKICAgICAgICBjb250YWluZXJXaWR0aDogdGhpcy5jb250YWluZXJXaWR0aCwKICAgICAgICBjb2x1bW5Db3VudDogdGhpcy5jb2x1bW5Db3VudCwKICAgICAgICBjb2x1bW5XaWR0aDogdGhpcy5jb2x1bW5XaWR0aCwKICAgICAgfSkKCiAgICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7CiAgICAgICAgY2hpbGQuJGVsLnN0eWxlLndpZHRoID0gdGhpcy5jb2x1bW5XaWR0aCArICdweCcKCiAgICAgICAgbGV0IG4gPSAwCiAgICAgICAgaWYgKGkgPCB0aGlzLmNvbHVtbkNvdW50KQogICAgICAgICAgbiA9IGkKICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgbGV0IG1pbkggPSAtMQogICAgICAgICAgY29scy5mb3JFYWNoKChjb2wsIGopID0+IHsKICAgICAgICAgICAgaWYgKChtaW5IID09IC0xKSB8fCAoY29sLmggPCBtaW5IKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgIG4gPSBqCiAgICAgICAgICAgICAgbWluSCA9IGNvbC5oCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgICAgICBjaGlsZC4kZWwuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgY29sc1tuXS54ICsgJ3B4LCAnICsgY29sc1tuXS5oICsgJ3B4KScKICAgICAgICBjb2xzW25dLmggKz0gY2hpbGQuJGVsLm9mZnNldEhlaWdodCArIHRoaXMuZ3V0dGVySGVpZ2h0CiAgICAgIH0pCgogICAgICBsZXQgY29udGFpbmVySGVpZ2h0ID0gMAogICAgICBjb2xzLmZvckVhY2goY29sID0+IGNvbnRhaW5lckhlaWdodCA9IE1hdGgubWF4KGNvbnRhaW5lckhlaWdodCwgY29sLmgpKQogICAgICB0aGlzLiRlbC5zdHlsZS5oZWlnaHQgPSBjb250YWluZXJIZWlnaHQgKyAncHgnCiAgICB9LAogICAgaW1hZ2VzTG9hZGVkKCkgewogICAgICB0aGlzLiRlbWl0KCdpbWFnZXMtbG9hZGVkJykKCiAgICAgIGlmICh0aGlzLm1vbml0b3JJbWFnZXNMb2FkZWQpCiAgICAgICAgdGhpcy5yZWZsb3coKQogICAgfQogIH0sCiAgZGlyZWN0aXZlczogewogICAgaW1hZ2VzTG9hZGVkCiAgfQp9Cg=="},{"version":3,"sources":["Stack.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stack.vue","sourceRoot":"node_modules/vue-stack-grid/src","sourcesContent":["<template>\r\n  <div class=\"vsg-container\" ref=\"container\" v-images-loaded:on.progress=\"imagesLoaded\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import imagesLoaded from 'vue-images-loaded'\r\n\r\n  export default {\r\n    props: {\r\n      columnMinWidth: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      gutterWidth: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      gutterHeight: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      monitorImagesLoaded: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        containerWidth: 0,\r\n        columnCount: 0,\r\n        columnWidth: 0,\r\n        baseColumns: []\r\n      }\r\n    },\r\n    mounted() {\r\n      window.addEventListener('resize', this.reflow)\r\n      this.update()\r\n    },\r\n    destroyed() {\r\n      window.removeEventListener('resize', this.reflow)\r\n    },\r\n    methods: {\r\n      updateColumnData() {\r\n        this.containerWidth = this.getContainerWidth()\r\n        this.columnCount = this.getColumnCount()\r\n        this.columnWidth = this.getColumnWidth()\r\n      },\r\n      getContainerWidth() {\r\n        return this.$refs.container.clientWidth\r\n      },\r\n      getColumnCount() {\r\n        for (let i = 1; true; i++)\r\n        {\r\n          let w = i * this.columnMinWidth + (i - 1) * this.gutterWidth\r\n          if (w > this.containerWidth)\r\n            return Math.max(i - 1, 1)\r\n        }\r\n      },\r\n      getColumnWidth() {\r\n        return (this.containerWidth - (this.columnCount - 1) * this.gutterWidth) / this.columnCount\r\n      },\r\n      getBaseColumns() {\r\n        let cols = []\r\n        for (let i = 0; i < this.columnCount; i++)\r\n          cols.push({\r\n            x: i * (this.columnWidth + this.gutterWidth),\r\n            h: 0\r\n          })\r\n        return cols\r\n      },\r\n      update() {\r\n        this.$nextTick(this.reflow)\r\n      },\r\n      reflow() {\r\n        this.updateColumnData()\r\n        let cols = this.getBaseColumns()\r\n\r\n        this.$emit('reflow', {\r\n          containerWidth: this.containerWidth,\r\n          columnCount: this.columnCount,\r\n          columnWidth: this.columnWidth,\r\n        })\r\n\r\n        this.$children.forEach((child, i) => {\r\n          child.$el.style.width = this.columnWidth + 'px'\r\n\r\n          let n = 0\r\n          if (i < this.columnCount)\r\n            n = i\r\n          else\r\n          {\r\n            let minH = -1\r\n            cols.forEach((col, j) => {\r\n              if ((minH == -1) || (col.h < minH))\r\n              {\r\n                n = j\r\n                minH = col.h\r\n              }\r\n            })\r\n          }\r\n\r\n          child.$el.style.transform = 'translate(' + cols[n].x + 'px, ' + cols[n].h + 'px)'\r\n          cols[n].h += child.$el.offsetHeight + this.gutterHeight\r\n        })\r\n\r\n        let containerHeight = 0\r\n        cols.forEach(col => containerHeight = Math.max(containerHeight, col.h))\r\n        this.$el.style.height = containerHeight + 'px'\r\n      },\r\n      imagesLoaded() {\r\n        this.$emit('images-loaded')\r\n\r\n        if (this.monitorImagesLoaded)\r\n          this.reflow()\r\n      }\r\n    },\r\n    directives: {\r\n      imagesLoaded\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .vsg-container {\r\n    display: block;\r\n    position: relative;\r\n    width: 100%;\r\n  }\r\n</style>\r\n"]}]}